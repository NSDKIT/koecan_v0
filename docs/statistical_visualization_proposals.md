# 企業価値観データの統計的表現方法 - 提案書

## 現在のデータ構造
- **4つのカテゴリー**: market_engagement, growth_strategy, organization_style, decision_making
- **8つの軸**: E, I, N, S, P, R, F, O
- **集計データ**: 職種別・年代別の平均値
- **個別データ**: 各従業員の回答（13問）

---

## 提案1: ヒートマップ（職種別・年代別の傾向比較）

### 目的
職種や年代ごとの8軸の強度を色の濃淡で視覚化

### 実装方法
- X軸: 8つの軸（E, I, N, S, P, R, F, O）
- Y軸: 職種/年代
- 色: スコア値（0-100）をグラデーションで表現

### メリット
- 複数のカテゴリーを一度に比較可能
- 傾向の違いが一目で分かる
- 学生自身の値も追加表示可能

### 使用ライブラリ
`recharts`の`Cell`コンポーネントまたは`react-heatmap-grid`

---

## 提案2: 箱ひげ図（分布の可視化）

### 目的
各軸の値の分布（最小値、第1四分位数、中央値、第3四分位数、最大値）を表示

### 実装方法
- X軸: 8つの軸
- Y軸: スコア値（0-100）
- 各軸ごとに箱ひげ図を表示
- 職種別・年代別を色分け

### メリット
- データのばらつきが分かる
- 外れ値の検出が可能
- 統計的な信頼性を示せる

### 使用ライブラリ
`recharts`の`BarChart`をカスタマイズ、または`@nivo/boxplot`

---

## 提案3: 積み上げ棒グラフ（カテゴリー別の構成比）

### 目的
4つのカテゴリー（市場への関わり方、成長戦略、組織運営、意思決定）の内訳を表示

### 実装方法
- X軸: 職種/年代
- Y軸: スコア値
- 各カテゴリーを色分けして積み上げ

### メリット
- カテゴリーごとの寄与度が分かる
- 職種/年代間の比較が容易
- 全体のバランスが視覚的に理解できる

### 使用ライブラリ
`recharts`の`BarChart`（`stacked`オプション）

---

## 提案4: 散布図（相関関係の可視化）

### 目的
2つの軸間の相関関係を可視化（例: E-I軸 vs N-S軸）

### 実装方法
- X軸: 1つの軸（例: E-Iスコア）
- Y軸: 別の軸（例: N-Sスコア）
- 各点: 職種/年代別の平均値
- 学生自身の値を強調表示

### メリット
- 軸間の関係性が分かる
- クラスタリングが可能
- 学生との距離感が視覚的に分かる

### 使用ライブラリ
`recharts`の`ScatterChart`

---

## 提案5: バブルチャート（3次元データの可視化）

### 目的
2つの軸の関係性に加えて、回答者数をバブルのサイズで表現

### 実装方法
- X軸: 1つの軸
- Y軸: 別の軸
- バブルのサイズ: 回答者数
- バブルの色: 職種/年代

### メリット
- データ量と傾向を同時に把握
- より多くの情報を1つのチャートで表現
- 視覚的にインパクトがある

### 使用ライブラリ
`recharts`の`ScatterChart`（`size`プロパティ）

---

## 提案6: 円グラフ・ドーナツチャート（構成比の可視化）

### 目的
16タイプのパーソナリティタイプの分布を表示

### 実装方法
- 各タイプ（ENPF, ENPR, ENSF, ...）の割合を表示
- 職種別・年代別に分割表示
- 学生自身のタイプを強調

### メリット
- タイプの分布が一目で分かる
- 多様性の可視化
- 学生との一致度が分かる

### 使用ライブラリ
`recharts`の`PieChart`

---

## 提案7: 統計サマリーテーブル（数値データの詳細表示）

### 目的
平均値、中央値、標準偏差、最小値、最大値を表形式で表示

### 実装方法
- 各軸ごとに統計値を計算
- 職種別・年代別にテーブル表示
- ソート・フィルタ機能付き

### メリット
- 正確な数値で比較可能
- データの信頼性を示せる
- 詳細な分析が可能

### 実装
カスタムコンポーネント（テーブル）

---

## 提案8: ツリーマップ（階層構造の可視化）

### 目的
職種→年代→タイプの階層構造を矩形のサイズで表現

### 実装方法
- 第1階層: 職種
- 第2階層: 年代
- 各矩形のサイズ: 回答者数
- 色: パーソナリティタイプ

### メリット
- 階層構造が視覚的に理解できる
- データ量の比較が容易
- 多層的な分析が可能

### 使用ライブラリ
`recharts`の`Treemap`、または`@nivo/treemap`

---

## 提案9: 時系列チャート（トレンド分析）

### 目的
タイムスタンプがある場合、時間経過による変化を可視化

### 実装方法
- X軸: 時間（月/年）
- Y軸: 各軸のスコア
- 複数軸を線グラフで表示

### メリット
- 組織の変化を追跡可能
- トレンド分析が可能
- 長期的な傾向が分かる

### 使用ライブラリ
`recharts`の`LineChart`

---

## 提案10: マッチングスコア表示（学生との適合度）

### 目的
学生自身のパーソナリティタイプと企業の各職種/年代との適合度を数値化

### 実装方法
- 各職種/年代との適合度を0-100%で表示
- 適合度の高い順にソート
- 適合度に応じて色分け

### メリット
- 学生にとって分かりやすい
- 就職活動の参考になる
- データドリブンな意思決定を支援

### 実装
カスタムコンポーネント（適合度計算ロジック + ビジュアライゼーション）

---

## 推奨実装順序

### Phase 1（高優先度・実装容易）
1. **統計サマリーテーブル** - 数値データの正確な表示
2. **積み上げ棒グラフ** - カテゴリー別の比較
3. **マッチングスコア表示** - 学生への直接的な価値

### Phase 2（中優先度・中程度の実装難易度）
4. **ヒートマップ** - 複数カテゴリーの一覧比較
5. **円グラフ・ドーナツチャート** - タイプ分布の可視化
6. **散布図** - 相関関係の分析

### Phase 3（低優先度・実装難易度高い）
7. **箱ひげ図** - 分布の詳細分析
8. **バブルチャート** - 3次元データの可視化
9. **ツリーマップ** - 階層構造の可視化
10. **時系列チャート** - トレンド分析（データが揃えば）

---

## 技術的な実装方針

### 使用ライブラリ
- **主要**: `recharts`（既存で使用中）
- **補助**: `@nivo/core`（高度な可視化が必要な場合）

### コンポーネント構造
```
CompanyPersonalityBreakdown.tsx
├── RadarChartView (既存)
├── StatisticalSummaryView (新規)
├── HeatmapView (新規)
├── BarChartView (新規)
├── ScatterChartView (新規)
└── PieChartView (新規)
```

### データ変換関数
- 既存の`decomposeTo8Axes`関数を活用
- 統計計算用のユーティリティ関数を追加
- マッチングスコア計算関数を追加

---

## UI/UXの考慮事項

1. **表示モードの切り替え**: レーダーチャートと統計表示をタブで切り替え
2. **インタラクティブ性**: ホバーで詳細情報を表示
3. **レスポンシブ対応**: モバイルでも見やすい設計
4. **アクセシビリティ**: 色だけでなく数値も表示
5. **エクスポート機能**: チャートを画像として保存可能に

---

## 期待される効果

1. **学生側**: より多角的な視点で企業を理解できる
2. **企業側**: 自社の特徴を数値で把握できる
3. **マッチング精度向上**: データドリブンな意思決定を支援
4. **エンゲージメント向上**: 視覚的に分かりやすい情報提供

